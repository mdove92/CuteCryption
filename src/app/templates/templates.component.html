<head>
    <script type="text/javascript" src="https://smtpjs.com/v3/smtp.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src='https://www.google.com/recaptcha/api.js'></script>
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/openpgp/4.6.2/compat/openpgp.min.js"></script>
</head>
<div class="templateComponent">
    <body class ="{{bodyClass}}">
        <div class="{{templateStyle}}" >
        <div class="htmlTemplateContainer" [innerHTML]=safeHtmlTemplate></div>
        <form class="templateCreator">
            <label>Email Address:</label><br>
            <input (input)="email=$event.target.value" type="text" class="form-control">
            <label>Password for encryption</label>
            <input type="hidden" (input)="password=$event.target.value" type="text" class="form-control">
            Template:<br>
            <br>
            <select (change)="selectedItemChanged($event)">
                <option *ngFor="let template of templates; let i = index" [value]="i" >{{ template.Name }}</option>
            </select>
            <br>
            <input type="button" value="Generate Html" (click)="onClickHandler($event)">
        </form>
    </div>
    <div class="{{templateCreatedStyle}}">
       
        <div class="templateHtml">
            <section>Copy the below html into your site to use the template</section>
            <button (click)="copyToClipboard($event)"> Copy template to clipboard</button>
            <button (click)="downloadPrivKey($event)"> Save private key</button>
            <button (click)="downloadPubKey($event)"> Save public key</button>
            <div class="templateOutput" >
                {{templateOutput}}
            </div>
        </div>
    </div>
    </body>
</div>